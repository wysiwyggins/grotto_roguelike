{"id":"node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs","dependencies":[{"name":"/Users/wileywiggins/Development/grotto_roguelike/node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/wileywiggins/Development/grotto_roguelike/package.json","includedInParent":true,"mtime":1686171865537},{"name":"/Users/wileywiggins/Development/grotto_roguelike/node_modules/@pixi/core/package.json","includedInParent":true,"mtime":499162500000},{"name":"@pixi/extensions","loc":{"line":1,"column":42,"index":42},"parent":"/Users/wileywiggins/Development/grotto_roguelike/node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs","resolved":"/Users/wileywiggins/Development/grotto_roguelike/node_modules/@pixi/extensions/lib/index.mjs"},{"name":"@pixi/math","loc":{"line":2,"column":23,"index":85},"parent":"/Users/wileywiggins/Development/grotto_roguelike/node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs","resolved":"/Users/wileywiggins/Development/grotto_roguelike/node_modules/@pixi/math/lib/index.mjs"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ProjectionSystem = void 0;\nvar _extensions = require(\"@pixi/extensions\");\nvar _math = require(\"@pixi/math\");\nclass ProjectionSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.destinationFrame = null;\n    this.sourceFrame = null;\n    this.defaultFrame = null;\n    this.projectionMatrix = new _math.Matrix();\n    this.transform = null;\n  }\n  update(destinationFrame, sourceFrame, resolution, root) {\n    this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;\n    this.sourceFrame = sourceFrame || this.sourceFrame || destinationFrame;\n    this.calculateProjection(this.destinationFrame, this.sourceFrame, resolution, root);\n    if (this.transform) {\n      this.projectionMatrix.append(this.transform);\n    }\n    const renderer = this.renderer;\n    renderer.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix;\n    renderer.globalUniforms.update();\n    if (renderer.shader.shader) {\n      renderer.shader.syncUniformGroup(renderer.shader.shader.uniforms.globals);\n    }\n  }\n  calculateProjection(_destinationFrame, sourceFrame, _resolution, root) {\n    const pm = this.projectionMatrix;\n    const sign = !root ? 1 : -1;\n    pm.identity();\n    pm.a = 1 / sourceFrame.width * 2;\n    pm.d = sign * (1 / sourceFrame.height * 2);\n    pm.tx = -1 - sourceFrame.x * pm.a;\n    pm.ty = -sign - sourceFrame.y * pm.d;\n  }\n  setTransform(_matrix) {}\n  destroy() {\n    this.renderer = null;\n  }\n}\nexports.ProjectionSystem = ProjectionSystem;\nProjectionSystem.extension = {\n  type: _extensions.ExtensionType.RendererSystem,\n  name: \"projection\"\n};\n_extensions.extensions.add(ProjectionSystem);"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":16,"column":7},"generated":{"line":9,"column":0}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":9,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":9,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":9,"column":23}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":10,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":10,"column":13}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":83,"column":16},"generated":{"line":10,"column":14}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":10,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":10,"column":24}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":11,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":11,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":11,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":85,"column":24},"generated":{"line":11,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":85,"column":24},"generated":{"line":11,"column":20}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":85,"column":24},"generated":{"line":11,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":12,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":12,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":12,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":87,"column":32},"generated":{"line":12,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":87,"column":32},"generated":{"line":12,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":87,"column":32},"generated":{"line":12,"column":32}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":13,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":13,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":13,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":88,"column":27},"generated":{"line":13,"column":20}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":88,"column":27},"generated":{"line":13,"column":23}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":88,"column":27},"generated":{"line":13,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":14,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":14,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":14,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":89,"column":28},"generated":{"line":14,"column":21}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":89,"column":28},"generated":{"line":14,"column":24}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":89,"column":28},"generated":{"line":14,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":15,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":15,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":15,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":15,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":32},"generated":{"line":15,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":15,"column":32}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":43},"generated":{"line":15,"column":44}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":43},"generated":{"line":15,"column":45}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":90,"column":43},"generated":{"line":15,"column":46}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":16,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":16,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":91,"column":13},"generated":{"line":16,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":16,"column":18}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":16,"column":21}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":16,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":17,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":4},"generated":{"line":18,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":18,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":18,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":18,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":40},"generated":{"line":18,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":64},"generated":{"line":18,"column":38}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":64},"generated":{"line":18,"column":40}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":64},"generated":{"line":18,"column":50}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":111,"column":84},"generated":{"line":18,"column":52}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":112,"column":4},"generated":{"line":18,"column":56}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":112,"column":4},"generated":{"line":18,"column":58}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":8},"generated":{"line":19,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":8},"generated":{"line":19,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":13},"generated":{"line":19,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":32},"generated":{"line":19,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":32},"generated":{"line":19,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":32},"generated":{"line":19,"column":44}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":52},"generated":{"line":19,"column":48}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":57},"generated":{"line":19,"column":52}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":57},"generated":{"line":19,"column":53}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":57},"generated":{"line":19,"column":69}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":77},"generated":{"line":19,"column":73}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":82},"generated":{"line":19,"column":77}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":82},"generated":{"line":19,"column":78}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":113,"column":82},"generated":{"line":19,"column":90}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":20,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":20,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":20,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":20,"column":20}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":27},"generated":{"line":20,"column":23}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":42},"generated":{"line":20,"column":34}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":42},"generated":{"line":20,"column":38}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":42},"generated":{"line":20,"column":42}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":47},"generated":{"line":20,"column":43}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":62},"generated":{"line":20,"column":54}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":62},"generated":{"line":20,"column":58}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":114,"column":62},"generated":{"line":20,"column":74}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":21,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":21,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":13},"generated":{"line":21,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":13},"generated":{"line":21,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":33},"generated":{"line":21,"column":29}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":38},"generated":{"line":21,"column":33}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":38},"generated":{"line":21,"column":34}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":38},"generated":{"line":21,"column":50}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":56},"generated":{"line":21,"column":52}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":61},"generated":{"line":21,"column":56}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":61},"generated":{"line":21,"column":57}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":61},"generated":{"line":21,"column":68}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":74},"generated":{"line":21,"column":70}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":74},"generated":{"line":21,"column":80}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":86},"generated":{"line":21,"column":82}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":90},"generated":{"line":21,"column":86}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":117,"column":90},"generated":{"line":21,"column":87}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":119,"column":8},"generated":{"line":22,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":119,"column":12},"generated":{"line":22,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":119,"column":12},"generated":{"line":22,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":119,"column":17},"generated":{"line":22,"column":13}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":22,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":22,"column":24}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":17},"generated":{"line":23,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":17},"generated":{"line":23,"column":10}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":17},"generated":{"line":23,"column":11}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":17},"generated":{"line":23,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":34},"generated":{"line":23,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":41},"generated":{"line":23,"column":34}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":41},"generated":{"line":23,"column":35}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":41},"generated":{"line":23,"column":39}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":46},"generated":{"line":23,"column":40}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":55},"generated":{"line":23,"column":49}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":55},"generated":{"line":23,"column":50}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":121,"column":55},"generated":{"line":24,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":25,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":124,"column":14},"generated":{"line":25,"column":10}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":124,"column":14},"generated":{"line":25,"column":18}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":124,"column":25},"generated":{"line":25,"column":21}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":25,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":25,"column":26}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":25,"column":34}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":17},"generated":{"line":26,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":17},"generated":{"line":26,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":17},"generated":{"line":26,"column":13}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":17},"generated":{"line":26,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":32},"generated":{"line":26,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":41},"generated":{"line":26,"column":36}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":41},"generated":{"line":26,"column":37}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":41},"generated":{"line":26,"column":53}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":60},"generated":{"line":26,"column":56}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":65},"generated":{"line":26,"column":60}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":65},"generated":{"line":26,"column":61}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":126,"column":65},"generated":{"line":26,"column":77}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":27,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":27,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":17},"generated":{"line":27,"column":13}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":17},"generated":{"line":27,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":32},"generated":{"line":27,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":39},"generated":{"line":27,"column":34}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":39},"generated":{"line":27,"column":35}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":127,"column":39},"generated":{"line":27,"column":36}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":131,"column":12},"generated":{"line":28,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":131,"column":12},"generated":{"line":28,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":131,"column":12},"generated":{"line":28,"column":16}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":131,"column":21},"generated":{"line":28,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":131,"column":21},"generated":{"line":28,"column":23}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":131,"column":28},"generated":{"line":28,"column":24}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":132,"column":8},"generated":{"line":28,"column":30}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":132,"column":8},"generated":{"line":28,"column":32}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":12},"generated":{"line":29,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":12},"generated":{"line":29,"column":14}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":21},"generated":{"line":29,"column":15}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":21},"generated":{"line":29,"column":21}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":28},"generated":{"line":29,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":45},"generated":{"line":29,"column":38}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":45},"generated":{"line":29,"column":39}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":45},"generated":{"line":29,"column":47}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":54},"generated":{"line":29,"column":48}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":61},"generated":{"line":29,"column":54}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":61},"generated":{"line":29,"column":55}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":61},"generated":{"line":29,"column":61}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":68},"generated":{"line":29,"column":62}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":68},"generated":{"line":29,"column":70}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":77},"generated":{"line":29,"column":71}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":84},"generated":{"line":29,"column":78}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":84},"generated":{"line":29,"column":79}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":133,"column":84},"generated":{"line":30,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":31,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":32,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":24},"generated":{"line":32,"column":21}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":24},"generated":{"line":32,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":24},"generated":{"line":32,"column":39}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":54},"generated":{"line":32,"column":41}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":78},"generated":{"line":32,"column":52}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":78},"generated":{"line":32,"column":54}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":78},"generated":{"line":32,"column":65}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":145,"column":99},"generated":{"line":32,"column":67}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":32,"column":71}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":32,"column":73}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":147,"column":8},"generated":{"line":33,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":147,"column":14},"generated":{"line":33,"column":10}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":147,"column":14},"generated":{"line":33,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":147,"column":19},"generated":{"line":33,"column":15}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":147,"column":24},"generated":{"line":33,"column":19}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":147,"column":24},"generated":{"line":33,"column":20}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":147,"column":24},"generated":{"line":33,"column":36}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":14},"generated":{"line":34,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":14},"generated":{"line":34,"column":10}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":14},"generated":{"line":34,"column":14}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":21},"generated":{"line":34,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":22},"generated":{"line":34,"column":18}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":22},"generated":{"line":34,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":29},"generated":{"line":34,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":33},"generated":{"line":34,"column":26}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":33},"generated":{"line":34,"column":29}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":33},"generated":{"line":34,"column":30}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":148,"column":33},"generated":{"line":34,"column":31}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":150,"column":8},"generated":{"line":35,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":150,"column":8},"generated":{"line":35,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":150,"column":11},"generated":{"line":35,"column":7}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":150,"column":20},"generated":{"line":35,"column":15}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":150,"column":20},"generated":{"line":35,"column":16}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":150,"column":20},"generated":{"line":35,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":11},"generated":{"line":36,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":11},"generated":{"line":36,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":11},"generated":{"line":36,"column":7}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":11},"generated":{"line":36,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":16},"generated":{"line":36,"column":11}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":20},"generated":{"line":36,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":20},"generated":{"line":36,"column":15}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":20},"generated":{"line":36,"column":26}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":32},"generated":{"line":36,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":40},"generated":{"line":36,"column":32}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":40},"generated":{"line":36,"column":35}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":152,"column":40},"generated":{"line":36,"column":36}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":8},"generated":{"line":37,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":8},"generated":{"line":37,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":11},"generated":{"line":37,"column":7}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":15},"generated":{"line":37,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":15},"generated":{"line":37,"column":11}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":15},"generated":{"line":37,"column":15}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":27},"generated":{"line":37,"column":19}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":27},"generated":{"line":37,"column":20}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":27},"generated":{"line":37,"column":23}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":27},"generated":{"line":37,"column":34}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":39},"generated":{"line":37,"column":35}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":48},"generated":{"line":37,"column":41}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":48},"generated":{"line":37,"column":44}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":48},"generated":{"line":37,"column":45}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":153,"column":48},"generated":{"line":37,"column":46}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":38,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":38,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":11},"generated":{"line":38,"column":7}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":16},"generated":{"line":38,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":16},"generated":{"line":38,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":16},"generated":{"line":38,"column":13}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":16},"generated":{"line":38,"column":14}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":22},"generated":{"line":38,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":34},"generated":{"line":38,"column":28}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":34},"generated":{"line":38,"column":29}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":34},"generated":{"line":38,"column":30}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":38},"generated":{"line":38,"column":33}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":41},"generated":{"line":38,"column":35}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":41},"generated":{"line":38,"column":36}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":155,"column":41},"generated":{"line":38,"column":37}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":39,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":39,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":11},"generated":{"line":39,"column":7}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":16},"generated":{"line":39,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":16},"generated":{"line":39,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":17},"generated":{"line":39,"column":13}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":25},"generated":{"line":39,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":25},"generated":{"line":39,"column":20}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":25},"generated":{"line":39,"column":31}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":37},"generated":{"line":39,"column":32}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":37},"generated":{"line":39,"column":33}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":41},"generated":{"line":39,"column":36}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":44},"generated":{"line":39,"column":38}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":44},"generated":{"line":39,"column":39}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":44},"generated":{"line":39,"column":40}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":156,"column":44},"generated":{"line":40,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":163,"column":4},"generated":{"line":41,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":163,"column":4},"generated":{"line":41,"column":14}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":163,"column":17},"generated":{"line":41,"column":15}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":41,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":41,"column":24}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":41,"column":25}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":168,"column":4},"generated":{"line":42,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":42,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":42,"column":10}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":42,"column":12}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":170,"column":8},"generated":{"line":43,"column":4}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":170,"column":8},"generated":{"line":43,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":170,"column":13},"generated":{"line":43,"column":9}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":170,"column":24},"generated":{"line":43,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":170,"column":24},"generated":{"line":43,"column":20}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":170,"column":24},"generated":{"line":43,"column":24}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":170,"column":24},"generated":{"line":44,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":172,"column":0},"generated":{"line":45,"column":0}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":172,"column":0},"generated":{"line":46,"column":0}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":172,"column":0},"generated":{"line":46,"column":7}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":172,"column":0},"generated":{"line":46,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":172,"column":0},"generated":{"line":46,"column":24}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":172,"column":0},"generated":{"line":46,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":172,"column":0},"generated":{"line":46,"column":43}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":47,"column":0}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":47,"column":16}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":47,"column":17}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":19,"column":42},"generated":{"line":47,"column":26}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":19,"column":42},"generated":{"line":47,"column":29}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":48,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":48,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":20,"column":14},"generated":{"line":48,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":48,"column":33}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":48,"column":34}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":48,"column":48}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":49,"column":2}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":21,"column":14},"generated":{"line":49,"column":6}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":21,"column":14},"generated":{"line":49,"column":8}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":50,"column":0}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":50,"column":1}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":174,"column":0},"generated":{"line":51,"column":0}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":174,"column":0},"generated":{"line":51,"column":22}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":51,"column":23}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":51,"column":26}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":174,"column":15},"generated":{"line":51,"column":27}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":174,"column":31},"generated":{"line":51,"column":43}},{"source":"../../src/projection/ProjectionSystem.ts","name":null,"original":{"line":174,"column":31},"generated":{"line":51,"column":44}}],"sources":{"../../src/projection/ProjectionSystem.ts":"import { extensions, ExtensionType } from '@pixi/extensions';\nimport { Matrix } from '@pixi/math';\n\nimport type { ExtensionMetadata } from '@pixi/extensions';\nimport type { Rectangle } from '@pixi/math';\nimport type { Renderer } from '../Renderer';\nimport type { ISystem } from '../system/ISystem';\n\n/**\n * System plugin to the renderer to manage the projection matrix.\n *\n * The `projectionMatrix` is a global uniform provided to all shaders. It is used to transform points in world space to\n * normalized device coordinates.\n * @memberof PIXI\n */\nexport class ProjectionSystem implements ISystem\n{\n    /** @ignore */\n    static extension: ExtensionMetadata = {\n        type: ExtensionType.RendererSystem,\n        name: 'projection',\n    };\n\n    /**\n     * The destination frame used to calculate the current projection matrix.\n     *\n     * The destination frame is the rectangle in the render-target into which contents are rendered. If rendering\n     * to the screen, the origin is on the top-left. If rendering to a framebuffer, the origin is on the\n     * bottom-left. This \"flipping\" phenomenon is because of WebGL convention for (shader) texture coordinates, where\n     * the bottom-left corner is (0,0). It allows display-objects to map their (0,0) position in local-space (top-left)\n     * to (0,0) in texture space (bottom-left). In other words, a sprite's top-left corner actually renders the\n     * texture's bottom-left corner. You will also notice this when using a tool like SpectorJS to view your textures\n     * at runtime.\n     *\n     * The destination frame's dimensions (width,height) should be equal to the source frame. This is because,\n     * otherwise, the contents will be scaled to fill the destination frame. Similarly, the destination frame's (x,y)\n     * coordinates are (0,0) unless you know what you're doing.\n     * @readonly\n     */\n    public destinationFrame: Rectangle;\n\n    /**\n     * The source frame used to calculate the current projection matrix.\n     *\n     * The source frame is the rectangle in world space containing the contents to be rendered.\n     * @readonly\n     */\n    public sourceFrame: Rectangle;\n\n    /**\n     * Default destination frame\n     *\n     * This is not used internally. It is not advised to use this feature specifically unless you know what\n     * you're doing. The `update` method will default to this frame if you do not pass the destination frame.\n     * @readonly\n     */\n    public defaultFrame: Rectangle;\n\n    /**\n     * Projection matrix\n     *\n     * This matrix can be used to transform points from world space to normalized device coordinates, and is calculated\n     * from the sourceFrame → destinationFrame mapping provided.\n     *\n     * The renderer's `globalUniforms` keeps a reference to this, and so it is available for all shaders to use as a\n     * uniform.\n     * @readonly\n     */\n    public projectionMatrix: Matrix;\n\n    /**\n     * A transform to be appended to the projection matrix.\n     *\n     * This can be used to transform points in world-space one last time before they are outputted by the shader. You can\n     * use to rotate the whole scene, for example. Remember to clear it once you've rendered everything.\n     * @member {PIXI.Matrix}\n     */\n    public transform: Matrix;\n\n    private renderer: Renderer;\n\n    /** @param renderer - The renderer this System works for. */\n    constructor(renderer: Renderer)\n    {\n        this.renderer = renderer;\n\n        this.destinationFrame = null;\n        this.sourceFrame = null;\n        this.defaultFrame = null;\n        this.projectionMatrix = new Matrix();\n        this.transform = null;\n    }\n\n    /**\n     * Updates the projection-matrix based on the sourceFrame → destinationFrame mapping provided.\n     *\n     * NOTE: It is expected you call `renderer.framebuffer.setViewport(destinationFrame)` after this. This is because\n     * the framebuffer viewport converts shader vertex output in normalized device coordinates to window coordinates.\n     *\n     * NOTE-2: {@link PIXI.RenderTextureSystem#bind} updates the projection-matrix when you bind a render-texture.\n     * It is expected\n     * that you dirty the current bindings when calling this manually.\n     * @param destinationFrame - The rectangle in the render-target to render the contents into. If rendering to the canvas,\n     *  the origin is on the top-left; if rendering to a render-texture, the origin is on the bottom-left.\n     * @param sourceFrame - The rectangle in world space that contains the contents being rendered.\n     * @param resolution - The resolution of the render-target, which is the ratio of\n     *  world-space (or CSS) pixels to physical pixels.\n     * @param root - Whether the render-target is the screen. This is required because rendering to textures\n     *  is y-flipped (i.e. upside down relative to the screen).\n     */\n    update(destinationFrame: Rectangle, sourceFrame: Rectangle, resolution: number, root: boolean): void\n    {\n        this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;\n        this.sourceFrame = sourceFrame || this.sourceFrame || destinationFrame;\n\n        // Calculate object-space to clip-space projection\n        this.calculateProjection(this.destinationFrame, this.sourceFrame, resolution, root);\n\n        if (this.transform)\n        {\n            this.projectionMatrix.append(this.transform);\n        }\n\n        const renderer = this.renderer;\n\n        renderer.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix;\n        renderer.globalUniforms.update();\n\n        // this will work for now\n        // but would be sweet to stick and even on the global uniforms..\n        if (renderer.shader.shader)\n        {\n            renderer.shader.syncUniformGroup(renderer.shader.shader.uniforms.globals);\n        }\n    }\n\n    /**\n     * Calculates the `projectionMatrix` to map points inside `sourceFrame` to inside `destinationFrame`.\n     * @param _destinationFrame - The destination frame in the render-target.\n     * @param sourceFrame - The source frame in world space.\n     * @param _resolution - The render-target's resolution, i.e. ratio of CSS to physical pixels.\n     * @param root - Whether rendering into the screen. Otherwise, if rendering to a framebuffer, the projection\n     *  is y-flipped.\n     */\n    calculateProjection(_destinationFrame: Rectangle, sourceFrame: Rectangle, _resolution: number, root: boolean): void\n    {\n        const pm = this.projectionMatrix;\n        const sign = !root ? 1 : -1;\n\n        pm.identity();\n\n        pm.a = (1 / sourceFrame.width * 2);\n        pm.d = sign * (1 / sourceFrame.height * 2);\n\n        pm.tx = -1 - (sourceFrame.x * pm.a);\n        pm.ty = -sign - (sourceFrame.y * pm.d);\n    }\n\n    /**\n     * Sets the transform of the active render target to the given matrix.\n     * @param _matrix - The transformation matrix\n     */\n    setTransform(_matrix: Matrix): void\n    {\n        // this._activeRenderTarget.transform = matrix;\n    }\n\n    destroy(): void\n    {\n        this.renderer = null;\n    }\n}\n\nextensions.add(ProjectionSystem);\n"},"lineCount":null}},"error":null,"hash":"4091b1a47afa085817a24d234f34d425","cacheData":{"env":{}}}